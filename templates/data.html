{% extends 'base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <div>
    <h2 class="m-0">Dataset</h2>
    <small class="text-muted">Total rows: {{ total_rows }}</small>
  </div>
  <div class="d-flex gap-2">
    <form method="post" class="d-flex gap-2">
      <input class="form-control" type="number" min="100" step="50" name="rows" placeholder="Rows (e.g., 500)" style="max-width: 200px;">
      <button type="submit" class="btn btn-outline-primary">Generate New Dataset</button>
    </form>
    <a href="/download_csv" class="btn btn-success">
      <i class="fas fa-download"></i> Download CSV
    </a>
  </div>
 </div>

 <div class="table-responsive" style="max-height: 70vh; overflow-y: auto;">
   <table class="table table-striped table-bordered align-middle">
     <thead class="table-dark sticky-top">
       <tr>
         {% for c in columns %}<th>{{ c }}</th>{% endfor %}
       </tr>
     </thead>
     <tbody>
       {% for r in rows %}
         <tr>
           {% for c in columns %}
             <td>{{ r[c] }}</td>
           {% endfor %}
         </tr>
       {% endfor %}
     </tbody>
   </table>
 </div>
{% endblock %}


